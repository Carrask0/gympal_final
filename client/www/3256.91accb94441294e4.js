"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3256],{3256:(P,u,i)=>{i.r(u),i.d(u,{EstadisticasPage:()=>O});var e=i(4496),_=i(1368),E=i(4716),n=i(1956),v=i(7476),C=i(740),d=i(36),h=i(764),m=i(4848);function f(s,l){if(1&s&&(e.I0R(0,"div",15),e.wR5(1,"canvas",16),e.C$Y()),2&s){const r=e.GaO();e.yG2(),e.E7m("type","line")("data",r.lineChartData)("options",r.lineChartOptions)("legend",r.lineChartLegend)}}function x(s,l){if(1&s){const r=e.KQA();e.I0R(0,"p",17),e.qCj("click",function(){const c=e.usT(r).$implicit,o=e.GaO();return e.CGJ(o.onClickExercise(c._id))}),e.OEk(1),e.C$Y()}if(2&s){const r=l.$implicit;e.yG2(),e.cNF(r.name)}}let O=(()=>{var s;class l{onClickExercise(t){this.repositoryService.setExerciseId(t),this.router.navigate(["/estadisticas-ejercicio"])}computeTotalVolume(t){let a={};t.forEach(o=>{let g=o.date;a[g]||(a[g]=0),o.exercises.forEach(p=>{let y=p.kgs*p.reps*p.sets;a[String(g)]+=y})});let c=[];for(let o in a)c.push({name:o,value:a[o]});return c}constructor(t){this.router=t,this.repositoryService=(0,e.uUt)(m.g),this.exercises=[],this.volumenTotal=[],this.lineChartData={labels:[],datasets:[{data:[],label:"Total volume",fill:!1,tension:.5,borderColor:"#39AFAC",backgroundColor:"#39AFAC"}]},this.lineChartOptions={scales:{y:{suggestedMin:0,beginAtZero:!0,suggestedMax:25e3},x:{display:!1}},responsive:!1},this.lineChartLegend=!1,(0,v.a)({arrowBack:C.wvf})}ngOnInit(){this.repositoryService.getExercises().subscribe(t=>{this.exercises=t}),this.repositoryService.getSessions().subscribe(t=>{let a={name:"Volumen total",series:this.computeTotalVolume(t)};this.lineChartData.datasets[0].data=a.series.map(c=>c.value),this.lineChartData.labels=new Array(a.series.length).fill("")})}}return(s=l).\u0275fac=function(t){return new(t||s)(e.GI1(d.E5))},s.\u0275cmp=e.In1({type:s,selectors:[["app-estadisticas"]],standalone:!0,features:[e.UHJ],decls:25,vars:2,consts:[[3,"fullscreen"],[1,"page"],[1,"arrow-back-area"],["src","assets/icons/arrow-back.svg","alt","Arrow Back","routerLink","/principal",1,"arrow-back"],[1,"statistics-content"],[1,"text-title-white"],["style","display: block;",4,"ngIf"],[1,"exercise-area"],[1,"exercise-area-header"],["placeholder","Ordenar por:","interface","popover","aria-label","Ordenar por",1,"select"],["value","peso-max"],["value","grupo-muscular"],["value","orden-alfa"],["value","volumen-medio"],[1,"exercise-list"],[2,"display","block"],["baseChart","","width","350","height","250",3,"type","data","options","legend"],[1,"exercise-button",3,"click"],["class","exercise-button"]],template:function(t,a){1&t&&(e.I0R(0,"ion-content",0)(1,"div",1)(2,"div",2),e.wR5(3,"img",3),e.C$Y(),e.I0R(4,"div",4)(5,"p",5),e.OEk(6,"Volumen total"),e.C$Y(),e.yuY(7,f,2,4,"div",6),e.C$Y(),e.I0R(8,"div",7)(9,"div",8)(10,"p",5),e.OEk(11,"Ejercicios"),e.C$Y(),e.I0R(12,"ion-item")(13,"ion-select",9)(14,"ion-select-option",10),e.OEk(15,"Peso m\xe1ximo"),e.C$Y(),e.I0R(16,"ion-select-option",11),e.OEk(17,"Grupo muscular"),e.C$Y(),e.I0R(18,"ion-select-option",12),e.OEk(19,"Orden alfab\xe9tico"),e.C$Y(),e.I0R(20,"ion-select-option",13),e.OEk(21,"Volumen medio"),e.C$Y()()()(),e.I0R(22,"div",14),e.c53(23,x,2,1,"p",18,e.oxv),e.C$Y()()()()),2&t&&(e.E7m("fullscreen",!0),e.yG2(7),e.E7m("ngIf",a.lineChartData&&a.lineChartData.datasets[0].data.length>0),e.yG2(16),e.oho(a.exercises))},dependencies:[n.wZ,n._i,n.Yb,n.Cy,n.gd,n.IT,n.mY,_.MD,_.u_,E.y,d.qQ,d.ER,h.YR],styles:[".statistics-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0}.exercise-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:20px;margin-right:20px}.exercise-area-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}ion-select[_ngcontent-%COMP%]{--background: var(--teal500);--color: var(--grey700);--placeholder-color: var(--grey700);--icon-color: var(--grey700);--border-radius: 20px;--placeholder-opacity: 1;--padding-start: 20px;--padding-end: 20px}ion-select[_ngcontent-%COMP%]::part(text){color:var(--grey700);opacity:1;margin:10px;align-self:center;font-weight:700}ion-select[_ngcontent-%COMP%]::part(icon){color:var(--grey700);opacity:1}.exercise-button[_ngcontent-%COMP%]{color:var(--grey700);font-weight:700;font-size:1.5em;margin-left:16px;border-radius:20px;padding:10px;background-color:var(--teal500);text-align:center}.exercise-button[_ngcontent-%COMP%]:hover{background-color:#fff}"]}),l})()}}]);